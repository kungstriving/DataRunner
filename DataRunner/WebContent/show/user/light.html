<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>SmartLight</title>

<link rel="stylesheet" href="./css/dr-base.css" />
<link rel="stylesheet" href="./show/user/light.css" />
<script type="text/javascript" src="./js/dojo/dojo.js"
	data-dojo-config="async:true,has:{'dojo-firebug':true}"></script>
<script type="text/javascript" src="./show/user/light.js"></script>

</head>
<body>
	<svg id="sketchpad" version="1.1" xmlns="http://www.w3.org/2000/svg"
		viewBox="0,0,1348,899" style="background-color: #ABCDEF" adjust="1">
		<!-- defs -->
		<defs>
         	<radialGradient id="rg" 
            	cx="50%" cy="50%"
            	fx="50%" fy="50%"
            	r="50%"
            	spreadMethod="pad" >
                <stop offset="50%" stop-color="#ffff00" stop-opacity="1" />
            	<stop offset="70%" stop-color="#aaaa00" stop-opacity="1" />
            	<stop offset="90%" stop-color="#999900" stop-opacity="1" />
        	</radialGradient>
        	<filter id="brightness">
            	<feGaussianBlur in="SourceGraphic" stdDeviation="5" result="blurout"/>
            	<feComponentTransfer in="blurout" result="r">
                	<feFuncR type="linear" slope="0"/>
                	<feFuncG type="linear" slope="0"/>
                	<feFuncB type="linear" slope="1"/>
            	</feComponentTransfer>
        	</filter>
    	</defs>
    	
    	<!-- elements -->
		<image x="0" y="0" width="1348" height="899" xlink:href="./show/user/images/warehouse.jpg" ></image>
		<circle cx="200" cy="200" r="50" 
			onclick="showSelectionInfo();"
			style="
				stroke-width:0;
				fill:url(#rg);
				filter:url(#brightness)" 
					/>
		
		<!-- other elements -->
		<circle cx="200" cy="135" r="15" style="fill:red;stroke:white;visibility:hidden;" id="lightbox" >
			<animate attributeName="cy" attributeType="XML"
             from="150"  to="135"
             begin="0s" dur="1s"
             fill="freeze" repeatCount="10"/>
             <animate attributeName="opacity" attributeType="XML"
             values="0;1;0" dur="1s"
             fill="freeze" repeatCount="10"/>
		</circle>
	</svg>
	<div style="position:fixed;width:340px;height:50px;bottom:10px;right:10px;background:gray;" >
	</div>
	<!-- TODO 添加一个自定义标签 表明当前特殊画面类型 -->
	<page name="light" refreshRate = "2000" id="pagemetas" authItem="{name:page_can,id:4}"/>
	<script type="text/javascript">
	require(['dojo/dom',
         'dr/base/Page',
         'dojo/domReady!'],
	function(dom,Page) {
		//get the page info
		var pageEle = dom.byId("pagemetas");
		var pageName = pageEle.getAttribute("name");
		var rate = pageEle.getAttribute("refreshRate");
		var page = new Page(pageName, rate);

		page.init();
		console.log("初始化页面 = " + page.toString());
		page.start();
	});
	</script>
</body>
</html>